<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>æ–°è®¢å•</title>
<!--    <link href="css/cart.css" rel="stylesheet" type="text/css">-->
    <link rel="stylesheet" href="css/foot.css"/>
    <link rel="stylesheet" href="css/head.css"/>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8"/>
    <noscript>æŠ±æ­‰ï¼Œä½ çš„æµè§ˆå™¨ä¸æ”¯æŒ JavaScript!</noscript>
    <link href="css/prodList.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/neworder.css">
    <link rel="icon" type="image/x-icon" href="img/head/zxfavicon.png"/>
<!--    <script type="text/javascript" src="js/logout.js"></script>-->
    <meta charset="UTF-8">
    <script type="text/javascript">
        // /**
        //  * æ–‡æ¡£å°±ç»ªäº‹ä»¶
        //  */
        // $(function () {
        //     // productId=null//ä¸Šä¸€ä¸ªé¡µé¢çš„å€¼;
        //     // num = null;//ä¸Šä¸€ä¸ªé¡µé¢çš„å€¼
        //     //
        //     // $.ajax({
        //     //     url: "http://www.honest_a19.com/products/item/" + productId,
        //     //     dataType: "json",
        //     //     type: "POST",
        //     //     success: function (data) {
        //     //         //å›¾ç‰‡
        //     //         let imgUrl = data.productImgurl;
        //     //         console.log(imgUrl);
        //     //         productId = data.productId;
        //     //         document.getElementById("prod_img").src = imgUrl;
        //     //         document.getElementById("prod_name").innerText = data.productName;
        //     //         document.getElementById("prod_intro").innerText = data.productIntroduction;
        //     //         document.getElementById("prod_deposit").innerText = data.productDeposit;
        //     //         document.getElementById("prod_rent").innerText = data.productRent;
        //     //         document.getElementById("prod_price").innerText = data.productPrice;
        //     //         document.getElementById("buyNumInp").value = num; //æ¥æºäºä¸Šä¸€ä¸ªé¡µé¢
        //     //     }
        //     // });
        //     window.userId = "";
        //     let _ticket = $.cookie("EM_TICKET");
        //     let userPassword = $.cookie("PASSWORD");
        //     let userName = $.cookie("USERNAME");
        //     if (!_ticket) {
        //         if (!userPassword || !userName) {
        //             // äºŒè€…ç¼ºä¸€æ— æ³•è‡ªåŠ¨ç™»å½•
        //             // window.location.href = "login.html";
        //             return;
        //         } else{
        //             autoLogin(userName, userPassword);
        //             return;
        //         }
        //     }
        //     //å½“dataTypeç±»å‹ä¸ºjsonpæ—¶ï¼ŒjQueryå°±ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚é“¾æ¥ä¸Šå¢åŠ ä¸€ä¸ªcallbackçš„å‚æ•°
        //     $.ajax({
        //         url: "http://www.honest_a19.com/user/query/" + _ticket,
        //         dataType: "json",
        //         type: "GET",
        //         success: function (data) {
        //             if (data.status === 200) {
        //                 let _data = JSON.parse(data.data);//jackson
        //                 if (_data == null) {
        //                     window.location.href = "./login.html";
        //                     return;
        //                 }
        //                 let html = _data.userName +
        //                     "ï¼Œæ¬¢è¿æ¥åˆ°honest_a19ï¼<a href='javascript:void(0)' class='link-logout' onclick='logout()'>[é€€å‡º]</a>";
        //                 if (_data.userType >= 3)
        //                     html = html + "&nbsp;&nbsp;|&nbsp;&nbsp;<a href='http://www.honest_a19.com/manage.html' class='link-logout'>[åå°]</a>";
        //                 userId = _data.userId;
        //                 $("#loginbar").html(html);
        //                 query(userId);
        //             } else if (data.status === 201) {
        //                 // åœ¨redisä¸­æ²¡æ‰¾åˆ°ç”¨æˆ·
        //                 delCookie("EM_TICKET");
        //                 delCookie("USERNAME");
        //                 delCookie("PASSWORD");
        //             } else if (data.status === 500) {
        //                 alert(data.msg);
        //             }
        //         },
        //         error: function () {
        //             alert("è¯·æ±‚å¤±è´¥");
        //         }
        //     });
        // });
        //
        // /**
        //  * è‡ªåŠ¨ç™»å½•
        //  * @param userName ç”¨æˆ·å
        //  * @param userPassword å¯†ç 
        //  */
        // function autoLogin(userName, userPassword) {
        //     $.ajax({
        //         url: "http://www.honest_a19.com/user/autologin",
        //         type: "get",
        //         data: {
        //             "userName": userName,
        //             "userPassword": userPassword
        //         },
        //         dataType: "json",
        //         success: function (data) {
        //             if (data.status === 200) {
        //                 let _data = data.data;//jackson
        //                 let html = _data.userName +
        //                     "ï¼Œæ¬¢è¿æ¥åˆ°honest_a19ï¼<a href='javascript:void(0)' class='link-logout' onclick='logout()'>[é€€å‡º]</a>";
        //                 if (_data.userType >= 3)
        //                     html = html + "&nbsp;&nbsp;|&nbsp;&nbsp;<a href='http://www.honest_a19.com/manage.html' class='link-logout'>[åå°]</a>";
        //                 userId = _data.userId;
        //                 $("#loginbar").html(html);
        //             } else if (data.status === 500) {
        //                 alert(data.msg);
        //             }
        //         },
        //         error: function () {
        //             alert('è¯·æ±‚å¤±è´¥');
        //         }
        //     });
        // }
        //
        //
        // // /**
        // //  * ä¿®æ”¹å•†å“æ•°é‡
        // //  * @param productId å•†å“id
        // //  * @param userId ç”¨æˆ·id
        // //  */
        // // function inputNum(productId, userId) {
        // //     let num = document.getElementById(productId).value;
        // //     let numOld = document.getElementById("hid_" + productId).value;
        // //     if (num === "" || num == null) {
        // //         alert("æ•°é‡å¡«å†™é”™è¯¯");
        // //         return;
        // //     }
        // //     if (num === 0) {
        // //         del(productId, userId);
        // //         return;
        // //     }
        // //     $.ajax({
        // //         url: "http://www.honest_a19.com/products/item/" + productId,
        // //         dataType: "json",
        // //         type: "POST",
        // //         success: function (data) {
        // //             let total = data.productNum;
        // //             if (num > total) {
        // //                 alert("è´­ä¹°æ•°é‡æœ€å¤§" + total);
        // //                 document.getElementById(productId).value = numOld;
        // //                 return;
        // //             }
        // //             $.ajax({
        // //                 url: "http://www.honest_a19.com/cart/update?productId=" + productId + "&userId=" + userId + "&num=" + num,
        // //                 dataType: "json",
        // //                 type: "GET",
        // //                 success: function (data) {
        // //                     if (data.status === 200) {
        // //                         window.location.href = "./mycart.html";
        // //                     } else {
        // //                         alert(data.msg);
        // //                     }
        // //                 },
        // //                 error: function () {
        // //                     alert("è¯·æ±‚å¤±è´¥");
        // //                 }
        // //             });
        // //         },
        // //         error: function () {
        // //             alert("è¯·æ±‚å¤±è´¥");
        // //         }
        // //     });
        // // }
        //
        // // /**
        // //  * æŸ¥è¯¢è´­ç‰©è½¦
        // //  * @param userId ç”¨æˆ·id
        // //  */
        // // function query(userId) {
        // //     $.ajax({
        // //         url: "http://www.honest_a19.com/cart/query?userId=" + userId,
        // //         dataType: "json",
        // //         type: "GET",
        // //         success: function (data) {
        // //             if (data.length > 0) {
        // //                 let money = 0;
        // //                 $.each(data, function (index, cart) {
        // //                     let productId = cart.productId;
        // //                     let productName = cart.productName;
        // //                     let productPrice = cart.productPrice;
        // //                     let productImage = cart.productImage;
        // //                     let num = cart.num;
        // //                     let prodHtml = "product-info.html?productId=" + productId;
        // //                     let inputId = "hid_" + productId;
        // //                     let itemMoney = productPrice * num;
        // //                     money = money + itemMoney;
        // //                     $("#items").append("<tr class='prods'>" +
        // //                         "<td style='width:100px;'><input name='prodC' type='checkbox' checked='checked' class='select_items' style='padding: 0;margin: 2px;' onchange='checkChanged(this)' /><a href='"+prodHtml+"+' target='_blank' style='padding:0;margin: 0;'><img src='"+productImage+"' alt='' width='80' height='90' style='padding:0;margin: 0;'/></a></td>" +
        // //                         "<td ><input type='hidden' name='productId' value='"+productId+"'/><a href='"+prodHtml+"' target='_blank' id='prods_name'>"+productName+"</a></td>" +
        // //                         "<td id='prods_price' >"+productPrice+"</td>" +
        // //                         "<td ><input type='hidden' id='" + inputId + "' value='" + num + "'/><input class='buyNumInp1' id='" + productId + "' type='number' value='" + num + "' onblur='inputNum(\"" + productId + "\",\"" + userId + "\")'/></td>" +
        // //                         "<td >"+itemMoney+"</td>" +
        // //                         "<td ><a href='javascript:void(0)' onclick='del(\""+productId + "\",\""+userId+"\")'>åˆ é™¤</a></td>" +
        // //                         "</tr>");
        // //                 })
        // //                 document.getElementById("span_2").innerText = money + "ï¿¥";
        // //             } else {
        // //                 alert("è´­ç‰©è½¦ä¸ºç©º");
        // //             }
        // //         }
        // //     });
        // // }
        //
        // /**
        //  * æäº¤è®¢å•
        //  */
        // function submitOrder(element){
        //     let orderMoney = parseFloat(document.getElementById("span_2").innerText);
        //     let orderReceiverinfo = $("#order_addr").val();
        //     let orderPaystate = 0;
        //     let j = 0;
        //     let _date = {
        //         "orderMoney": orderMoney,
        //         "orderReceiverinfo": orderReceiverinfo,
        //         "orderPaystate": orderPaystate,
        //         "userId": userId
        //     };
        //     for (let i = 0; i < $(".prods").length; i++) {
        //         let prod = $(".prods").eq(i);
        //         let checked = prod.find("input[name=prodC]").prop("checked");
        //         if (checked){
        //             // å¦‚æœæ˜¯å‹¾é€‰çŠ¶æ€
        //             let key = "orderItems[" +j+"]";
        //             _date[key+".productId"] = prod.find("input[name=productId]").val();
        //             _date[key+".num"] = parseInt(prod.find(".buyNumInp1").val());
        //             _date[key+".productPrice"] = parseFloat(prod.find("#prods_price").text());
        //             _date[key+".productImage"] = prod.find("img").attr("src");
        //             _date[key+".productName"] = prod.find("#prods_name").text();
        //             j = j + 1;
        //         }
        //     }
        //     if (orderMoney === 0){
        //         return;
        //     }
        //     $.ajax({
        //         url: "/order/save",
        //         dataType: "json",
        //         type: "GET",
        //         traditional: true,
        //         data: _date,
        //         success: function (data) {
        //             if (data.status === 200) {
        //                 window.location.href = "./myorder.html";
        //             } else if (data.status === 201) {
        //                 alert(data.msg);
        //             } else if (data.status === 500) {
        //                 alert(data.msg);
        //             }
        //         },
        //         error: function () {
        //             alert("è¯·æ±‚å¤±è´¥");
        //         }
        //     });
        // }
        //
        //
        // /**
        //  * æœç´¢
        //  * @param a
        //  */
        // function search(a) {
        //     let query = document.getElementById(a).value;
        //     window.location.href = "./search.html?query=" + query;
        // }
    </script>
</head>

<body>
    <div id="common_head">
        <div class="line1">
            <div class="content">
                <ul>
                    <li class="fore1" id="loginbar" v-html="personalMsg">
                        <span id="head_span" ><a href="login.html">ç™»å½•</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="regist.html">æ³¨å†Œ</a></span>
                    </li>
                </ul>
            </div>
        </div>
        <div class="line2">
            <a href="http://www.citicbank.com/"><img id="logo" src="img/head/zxlogo.png" alt="logo"/></a>
            <input type="text" v-model="query">
            <input type="button" value="æœ ç´¢" @click="search">
            <span id="goto">
                <a id="goto_order" href="./myorder.html">æˆ‘çš„è®¢å•</a>
                <a id="goto_favourites" href="./myfavorites.html">æˆ‘çš„æ”¶è—</a>
            </span>
            <span id="anologin">
               <a id="goto_login" :href="gotoHref">{{loginTit}}</a>
           </span>
        </div>
        <div class="line3">
            <div class="content">
                <ul>
                    <li><a href="./index.html">é¦–é¡µ</a></li>
                    <li><a href="./product-list.html?type=ç”µå­æ•°ç ">ç”µå­æ•°ç </a></li>
                    <li><a href="./product-list.html?type=è¿åŠ¨æˆ·å¤–">è¿åŠ¨æˆ·å¤–</a></li>
                    <li><a href="./product-list.html?type=æ¯å©´ç©å…·">æ¯å©´ç©å…·</a></li>
                    <li><a href="./product-list.html?type=æœè£…é“å…·">æœè£…é“å…·</a></li>
                    <li><a href="./product-list.html?type=å½±åƒå‡ºç‰ˆ">å½±åƒå‡ºç‰ˆ</a></li>
                    <li><a href="./product-list.html?type=å®¶å±…å®¶ç”¨">å®¶å±…å®¶ç”¨</a></li>
                    <li><a href="./product-list.html?type=å…±äº«ç”Ÿæ´»">å…±äº«ç”Ÿæ´»</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div id="container">
        <div id="content">
            <div class="checkout-tit">å¡«å†™å¹¶æ ¸å¯¹è®¢å•ä¿¡æ¯</div>
            <div class="checkout-steps">
                <div class="step-tit">
                    <h3>æ”¶è´§äººä¿¡æ¯</h3>
                </div>
                <div id="user_info">
                    <p>æ”¶è´§äºº &nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="receiver_name" v-model="receiverName"></p>
                    <p>æ‰‹æœºå·ç  &nbsp;<input type="text" id="receiver_tel" v-model="receiverTel"></p>
                    <p>é‚®ç®±åœ°å€ &nbsp;<input type="text" id="receiver_mail" v-model="receiverMail"><br></p>
                    <label for="order_addr" class="lf">æ”¶è´§åœ°å€</label>&nbsp;
                    <textarea name="orderReceiverinfo" id="order_addr" cols="45" rows="5" v-model="receiverAddr"></textarea><br />
                </div>
                <div class="hr"></div>

                <div class="step-tit">
                    <h3>æ”¯ä»˜æ–¹å¼</h3>
                </div>
                <div class="payment_list">
                    <input name="" type="radio" value="" checked="checked" id="pay_online">&nbsp;åœ¨çº¿æ”¯ä»˜
                </div>
                <div class="step-tit">
                    <h3>ç§Ÿèµæ–¹å¼</h3>
                </div>
                <div class="payment_list">
                    <input name="aaa" type="radio" value="" checked="checked">&nbsp;æ™®é€šç§Ÿèµ
                    <input name="aaa" type="radio" value="">&nbsp;ä»¥ç§Ÿä»£å”®
                </div>
                <div class="hr"></div>

                <div class="step-tit">
                    <h3>è´§ç‰©ä¿¡æ¯</h3>
                </div>
                <div id="shopping-list">
                    <div id="left_info">
                        <img :src="productPic" id="prod_img" alt="prod_img" style="width: 180px;height: 180px"><br>
                        <span id="prod_name">{{productName}}<br/></span>
                        <!--å•†å“åç§°-->
                        <span id="prod_intro">{{productIntro}}<br/></span>
                        <!--å•†å“ç®€ä»‹-->
                    </div>
                    <div id="right_info">
                        æŠ¼     é‡‘ï¼š<span class="price_red" id="prod_deposit">{{productDeposit}}</span>å…ƒ<br/>
                        ç§Ÿ     é‡‘ï¼š<span class="price_red" id="prod_rent">{{productRent}}</span>å…ƒ/å¤©<br/>
                        åŸ     ä»·ï¼š<span class="price_red" id="prod_price">{{productPrice}}</span>å…ƒ<br/>
                        è¿     è´¹ï¼šæ»¡ 100 å…è¿è´¹<br/>
                        <!--			            æœ     åŠ¡ï¼šç”±è€å®äººå›¢é˜Ÿè´Ÿè´£å‘è´§ï¼Œå¹¶æä¾›å”®åæœåŠ¡<br/>-->
                        åº“å­˜ï¼š<span id="prod_num">{{productStock}}</span>ä»¶<br/>
                        <label for="buyNumInp">ç§Ÿèµæ•°é‡ï¼š</label>
                        <a href="javascript:void(0)" class="delNum" @click="sub">-</a>
                        <input id="buyNumInp" name="buyNum" type="text" v-model="wantNum">
                        <a href="javascript:void(0)" class="addNum" @click="add">+</a>
                        <br>
                        <label for="buyNumInp">ç§Ÿèµå¤©æ•°ï¼š</label>
                        <a href="javascript:void(0)" class="delNum" @click="sub2">-</a>
                        <input id="buyDayInp" name="buyNum" type="text" v-model="wantDay">
                        <a href="javascript:void(0)" class="addNum" @click="add2">+</a>
                    </div>
                </div>
            </div>
            <div id="trade_foot">
            <!--æ€»ä»·æ ¼-->
                <span id="price-tit">åº”ä»˜é‡‘é¢:</span>
                <span style="color: #e81d2a;font-size: 20px">ï¿¥</span><span id="total_price">{{totalPrice}}</span>
            </div>
            <input class="submit" type="button" @click="submitIt" value="ğŸ›’ æäº¤è®¢å•"/><br>
        </div>

    </div>

    <div class="fixed">
        <a href="https://github.com/GuyueWK/com.A19" target="_blank">
            <img src="./img/head/mywxqr.png" width="100" alt="qrcode"/>
        </a>
        <a href="#common_head" class="toTop"></a>
    </div>
    <div id="common_foot">
        <p>
            è€å®äººå›¢é˜Ÿç‰ˆæƒæ‰€æœ‰ Copyright Â© 2020-2021
            <br />
            nullå…¬ç½‘å®‰å¤‡  nullå·
        </p>
    </div>
    <script src="js/vue.min.js"></script>
    <script src="js/axios.min.js"></script>
    <script src="js/cookie.js"></script>
    <script src="js/header.js"></script>
    <script src="js/getparam.js"></script>
    <script src="js/neworder.js"></script>
    </body>
</html>